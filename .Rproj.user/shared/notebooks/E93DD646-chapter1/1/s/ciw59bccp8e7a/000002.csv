"0","getHtmlText <- function (x, css, sizeItems) {"
"0","    result <- x %>%"
"0","        html_nodes(css = css) %>%"
"0","        html_text()"
"0","    "
"0","    resultSize = length(result)"
"0","    "
"0","    while (resultSize < sizeItems) {"
"0","      resultSize <- resultSize + 1"
"0","      result[resultSize] <- 'NODATA'"
"0","    }"
"0",""
"0","    return(result)"
"0","}"
"0",""
"0","getHtmlRate <- function (x, css, name) {"
"0","    result <- x %>%"
"0","        html_nodes(css = css) %>%"
"0","        html_attr(name, name) %>%"
"0","        str_remove_all(pattern = '(width:)|(%;)') %>%"
"0","        as.numeric()"
"0","    "
"0","    return(result)"
"0","}"
"0",""
"0","getData <- function (x) {"
"0","  items <- x %>% read_html() %>% html_nodes(css = 'section.content_ty4')"
"0","  "
"0","  sizeItems = length(items)"
"0","  "
"0","  # 웹 데이터를 수집하여 df 객체에 할당"
"0","  df <-"
"0","      data.frame("
"0","          comName = x %>% read_html() %>% html_nodes(css = 'h1.name') %>% html_text(),"
"0","          # 회사이름 = x %>% read_html() %>% html_node(css = 'h1.name') %>% html_text()"
"0","        # 회사이름 = x %>% read_html() %>% html_node(css = 'h1.name') %>% html_text()"
"0","         comcode = items %>% html_attr(name = 'data-company_id'),"
"0","       #  리뷰코드 = items %>% html_attr(name = 'data-content_id'),"
"0","        reviewCode= items %>% html_attr(name = 'data-content_id'),"
"0","       #  직종구분 = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(2)'),"
"0","       category = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(2)', sizeItems),"
"0","       #  재직상태 = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(4)'),"
"0","        onBoard = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(4)', sizeItems),"
"0","       #  근무지역 = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(6)'),"
"0","       area = getHtmlText(x = items, css = 'div.content_top_ty2 span:nth-child(6)', sizeItems),"
"0","       # 등록일자 = getHtmlText(x = items, css = 'div.content_top_ty2 span.txt2'),"
"0","       regDate = getHtmlText(x = items, css = 'div.content_top_ty2 span.txt2', sizeItems),"
"0","       # 별점평가 = getHtmlRate(x = items, css = 'div.star_score', name = 'style'),"
"0","       starRate = getHtmlRate(x = items, css = 'div.star_score', name = 'style'),"
"0","       # 승진기회 = getHtmlRate(x = items, css = 'dl dd:nth-child(3) div div', name = 'style'),"
"0","       promotChance = getHtmlRate(x = items, css = 'dl dd:nth-child(3) div div', name = 'style'),"
"0","       # 복지급여 = getHtmlRate(x = items, css = 'dl dd:nth-child(5) div div', name = 'style'),"
"0","       welfare = getHtmlRate(x = items, css = 'dl dd:nth-child(5) div div', name = 'style'),"
"0","       # 워라밸   = getHtmlRate(x = items, css = 'dl dd:nth-child(7) div div', name = 'style'),"
"0","        wlValance  = getHtmlRate(x = items, css = 'dl dd:nth-child(7) div div', name = 'style'),"
"0","       # 사내문화 = getHtmlRate(x = items, css = 'dl dd:nth-child(9) div div', name = 'style'),"
"0","       culture = getHtmlRate(x = items, css = 'dl dd:nth-child(9) div div', name = 'style'),"
"0","       # 경영진   = getHtmlRate(x = items, css = 'dl dd:nth-child(11) div div', name = 'style')"
"0","         execMem = getHtmlRate(x = items, css = 'dl dd:nth-child(11) div div', name = 'style'),"
"0","      # 기업장점 = getHtmlText(x = items, css = 'div div div section:nth-child(1) div div.ctbody_col2 div dl dd:nth-child(2) span')"
"0","      comAdv = getHtmlText(x = items, css = 'dl dd:nth-child(2) span', sizeItems),"
"0","      # 기업단점"
"0","      comDisadv = getHtmlText(x = items, css = 'dl dd:nth-child(4) span', sizeItems),"
"0","      # 바라는점 = getHtmlText(x = items, css = 'dl dd:nth-child(6) span')"
"0","      reqPoint = getHtmlText(x = items, css = 'dl dd:nth-child(6) span', sizeItems),"
"0","      # 성장예상 = getHtmlText(x = items, css = 'p.etc_box strong')"
"0","      growth = getHtmlText(x = items, css = 'p.etc_box strong', sizeItems),"
"0","      # 추천여부 = getHtmlText(x = items, css = 'p.txt.recommend.etc_box')"
"0","      recomm = getHtmlText(x = items, css = 'p.txt.recommend.etc_box', sizeItems)"
"0","    )"
"0","  "
"0","  return(df)"
"0","}"
"0",""
"0","pages <- ceiling(x = reviewCnt / 5)"
"0","print(x = pages)"
"1","[1]"
"1"," 30"
"1","
"
